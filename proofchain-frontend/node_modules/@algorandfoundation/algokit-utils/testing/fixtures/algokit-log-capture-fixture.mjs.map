{"version":3,"file":"algokit-log-capture-fixture.mjs","sources":["../../../src/testing/fixtures/algokit-log-capture-fixture.ts"],"sourcesContent":["import { Config } from '../../'\nimport { AlgoKitLogCaptureFixture } from '../../types/testing'\nimport { TestLogger } from '../test-logger'\n\n/**\n * Creates a test fixture for capturing AlgoKit logs.\n *\n * @example\n * ```typescript\n * const logs = algoKitLogCaptureFixture()\n *\n * beforeEach(logs.beforeEach)\n * afterEach(logs.afterEach)\n *\n * test('My test', () => {\n *     const capturedLogs = logs.testLogger.capturedLogs\n * })\n * ```\n *\n * @returns The fixture\n */\nexport const algoKitLogCaptureFixture: () => AlgoKitLogCaptureFixture = () => {\n  const originalLogger = Config.logger\n\n  let hybridLogger: TestLogger\n\n  return {\n    get testLogger() {\n      return hybridLogger\n    },\n    beforeEach: () => {\n      hybridLogger = new TestLogger(originalLogger)\n      Config.configure({\n        logger: hybridLogger,\n      })\n    },\n    afterEach: () => {\n      Config.configure({\n        logger: originalLogger,\n      })\n    },\n  }\n}\n"],"names":[],"mappings":";;;AAIA;;;;;;;;;;;;;;;;AAgBG;AACI,MAAM,wBAAwB,GAAmC,MAAK;AAC3E,IAAA,MAAM,cAAc,GAAG,MAAM,CAAC,MAAM;AAEpC,IAAA,IAAI,YAAwB;IAE5B,OAAO;AACL,QAAA,IAAI,UAAU,GAAA;AACZ,YAAA,OAAO,YAAY;SACpB;QACD,UAAU,EAAE,MAAK;AACf,YAAA,YAAY,GAAG,IAAI,UAAU,CAAC,cAAc,CAAC;YAC7C,MAAM,CAAC,SAAS,CAAC;AACf,gBAAA,MAAM,EAAE,YAAY;AACrB,aAAA,CAAC;SACH;QACD,SAAS,EAAE,MAAK;YACd,MAAM,CAAC,SAAS,CAAC;AACf,gBAAA,MAAM,EAAE,cAAc;AACvB,aAAA,CAAC;SACH;KACF;AACH;;;;"}